(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a96e8e5a"],{"408a":function(t,e,n){var i=n("e330");t.exports=i(1..valueOf)},"517b":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("e330"),a=n("1d80"),r=n("577e"),s=n("5899"),o=i("".replace),l="["+s+"]",h=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),u=function(t){return function(e){var n=r(a(e));return 1&t&&(n=o(n,h,"")),2&t&&(n=o(n,c,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},7156:function(t,e,n){var i=n("1626"),a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var s,o;return r&&i(s=e.constructor)&&s!==n&&a(o=s.prototype)&&o!==n.prototype&&r(t,o),t}},"717a":function(t,e,n){"use strict";n("a9e3"),n("ac1f"),n("fb6a"),n("4e82");var i=n("26a8"),a=n("4b7c"),r=1,s=1,o=2,l=3,h=4,c=0,u=1;function p(t,e){var n=e+1;return n===t.length&&(n=0),n}function f(t,e){var n=e-1;return-1===n&&(n=t.length-1),n}function d(t){for(var e=-1,n=-1,i=0;i<t.length;i++)t[i].x>e&&(e=t[i].x,n=i);return n}function g(t){for(var e=Number.MAX_VALUE,n=Number.MAX_VALUE,i=0;i<t.length;i++)t[i].x<e&&(e=t[i].x,n=i);return n}function v(t,e,n){var x=t[g(t)].x,y=t[d(t)].x,m=e[g(e)].x,b=e[d(e)].x;if(t.length<6)t=a["a"].exec(t),n.push({type:o,points:t.slice(),part:c,xMin:x,xMax:b,message:"Use any way you like to find the convex hull for this small point set."});else{var k=Math.floor(t.length/2),P=t.slice(0,k),w=t.slice(k,t.length);n.push({type:s,left:P.slice(),right:w.slice(),mid:t[k],xMin:x,xMax:y,message:"Divide current sub-point set into left part and right part."}),t=v(P,w,n)}if(e.length<6)e=a["a"].exec(e),n.push({type:o,points:e.slice(),part:u,xMin:x,xMax:b,message:"Use any way you like to find the convex hull for this small point set."});else{var A=Math.floor(e.length/2),C=e.slice(0,A),_=e.slice(A,e.length);n.push({type:s,left:C.slice(),right:_.slice(),mid:e[A],xMin:m,xMax:b,message:"Divide current sub-point set into left part and right part."}),e=v(C,_,n)}var M=d(t),L=g(e);n.push({type:l,left:t.slice(),right:e.slice(),xMin:x,xMax:b,message:"Left and right parts' convex hull has been constructed."});var I=M,S=L;while(1===r){var N=p(t,I);while(i["a"].orient(e[S],t[I],t[N])>0)I=N,N=p(t,I);var O=f(e,S);while(i["a"].orient(e[O],e[S],t[I])>0)S=O,O=f(e,S);if(i["a"].orient(e[S],t[I],t[N])<0)break}var H=M,E=L;while(1===r){var T=p(e,E);while(i["a"].orient(t[H],e[E],e[T])>0)E=T,T=p(e,E);var G=f(t,H);while(i["a"].orient(t[G],t[H],e[E])>0)H=G,G=f(t,H);if(i["a"].orient(t[H],e[E],e[T])<0)break}for(var R=[],V=[],$=!1,D=!1,j=I;j<t.length;j++)if(R.push(t[j]),j===H){$=!0;break}if(!$)for(var B=0;B<=H;B++)R.push(t[B]);for(var F=E;F<e.length;F++)if(V.push(e[F]),F===S){D=!0;break}if(!D)for(var U=0;U<=S;U++)V.push(e[U]);return R.push.apply(R,V),n[n.length-1].whole=R.slice(),n.push({type:h,points:R,xMin:x,xMax:b,message:"Connect tangent lines in linear time."}),R}e["a"]={exec:function(t){if(t.length<4)return t;t.sort((function(t,e){var n=t.x,i=e.x;return n===i&&(e.x+=1e-5),n<i?-1:n>i?1:void 0}));var e=Math.floor(t.length/2),n=t.slice(0,e),i=t.slice(e,t.length),a=[{type:s,left:n.slice(),right:i.slice(),mid:t[e],xMin:t[0].x,xMax:t[t.length-1].x,message:"Divide current sub-point set into left part and right part."}],r=v(n,i,a);return{result:r,process:a}}}},a5d2:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Nav",{ref:"nav"}),n("h1",{staticClass:"subtitle"},[t._v(t._s(t.msg))]),n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-parent is-8"},[n("div",{staticClass:"tile is-child box"},[n("MergeHullCanvas",{ref:"c",attrs:{canvasId:"canvas-one"},on:{message:t.getMessage,lock:function(e){t.lock=!0},unlock:function(e){t.lock=!1}}})],1)]),n("div",{staticClass:"tile is-vertical is-parent"},[n("div",{staticClass:"tile is-child box",staticStyle:{"min-height":"500px",height:"500px"}},[n("div",{staticStyle:{"margin-top":"150px"}},t._l(t.text,(function(e){return n("div",{key:e.message},[e.highLight?n("div",[n("div",{staticClass:"block has-background-primary has-text-white"},[t._v(" "+t._s(e.msg)+" ")])]):n("div",[n("div",{staticClass:"block mb-3"},[t._v(" "+t._s(e.msg)+" ")])])])})),0)]),n("div",{staticClass:"tile is-child"},[n("button",{staticClass:"button",attrs:{disabled:t.lock},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.addPoints.apply(null,arguments)}}},[n("strong",[t._v(" Add 10 ")])]),n("button",{staticClass:"button",attrs:{disabled:t.lock},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.reset.apply(null,arguments)}}},[n("strong",[t._v(" Reset ")])]),n("button",{staticClass:"button",attrs:{disabled:t.lock},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.last.apply(null,arguments)}}},[n("strong",[t._v(" Last ")])]),n("button",{staticClass:"button",attrs:{disabled:t.lock},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.next.apply(null,arguments)}}},[n("strong",[t._v(" Next ")])]),t.clickAuto?n("button",{staticClass:"button is-primary",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.auto.apply(null,arguments)}}},[n("strong",[t._v(" Auto ")])]):n("button",{staticClass:"button",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.auto.apply(null,arguments)}}},[n("strong",[t._v(" Auto ")])])])])]),t.preface?n("div",[n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card",staticStyle:{"max-width":"500px"}},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Explanation")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.closePreface.apply(null,arguments)}}})]),t._m(0)])])]):t._e()],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"modal-card-body"},[n("p",{staticClass:"content"},[t._v(" With the idea of pre-sort the point set, there is another algorithm called Merge Hull which also can determine the convex hull in "),n("strong",[t._v("O(nlogn)")]),t._v(' by divide and conquer the point set. Merge Hull algorithm divides the point set into left and right part and each part will be divided again till there is only few points left in the part such as 4 or 5 points. Since there is only few point, we can use brutal force to compute the little convex hull in constant time. For the conquer part, the algorithm will pick left and right parts that have already got convex hulls and try to connect two parts with upper and lower tangent lines. One way to find such tangent lines is starting with right most point on left convex hull and left most point on right convex hull and check points in CCW direction. Then, with the property of "left turn" in convex hull, we are going to make sure the connection of left and right convex hull is always turning left. After we merge all partial convex hulls, the final result is exactly the convex hull for the whole point set.')])])}],r=n("1da1"),s=(n("d3b7"),n("96cf"),n("216c")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{ref:"cs",staticClass:"canvas-style",attrs:{id:t.canvasId}})])},l=[],h=n("3835"),c=(n("4fad"),n("a434"),n("ac1f"),n("fb6a"),n("4e82"),n("2222")),u=n.n(c),p=n("717a"),f=n("26a8"),d="#00d1b2",g="#3273dc",v="#ee9a33",x="#ff3860",y={name:"MergeHullCanvas",props:["canvasId"],data:function(){return{path:null,scope:null,tool:null,GLOBAL_CANVAS_WIDTH:800,GLOBAL_CANVAS_HEIGHT:600,points:[],pointPathMap:{},sortedPoints:[],addPoints:!0,convexHullList:[],convexHullPath:null,displayPath:null,displayPointList:[],searchAreaPath:null,states:[],step:-1,leftPath:null,rightPath:null}},created:function(){},mounted:function(){this.scope=new u.a.PaperScope,this.scope.setup(this.canvasId),this.tool=this.createTool(this.scope),this.displayPath=new u.a.Path({strokeColor:"#000000"}),this.init()},methods:{createTool:function(t){return t.activate(),new u.a.Tool},drawPoint:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000000";t.activate();var a=new u.a.Path.Circle(new u.a.Point(e.x,e.y),n);return a.fillColor=i,a},init:function(){var t=this;this.tool.onMouseDown=function(e){if(t.addPoints){if(t.pointNum()>200)return void t.sendMessage("Max point number has been set to 200.");var n=t.p2c(e.point);n.x=Math.floor(n.x),n.y=Math.floor(n.y);for(var i=0;i<t.points.length;i++)if(t.points[i].x===n.x||t.points[i].y===n.y)return;t.points.push({x:n.x,y:n.y}),t.pointPathMap[n.x+","+n.y]=t.drawPoint(t.scope,t.p2c({x:n.x,y:n.y}),10)}}},reset:function(){for(var t=0,e=Object.entries(this.pointPathMap);t<e.length;t++){var n=Object(h["a"])(e[t],2),i=n[1];i.removeSegments()}this.pointPathMap={},this.points=[],this.sortedPoints=[],this.addPoints=!0,this.convexHullList=[],this.convexHullPath&&this.convexHullPath.removeSegments(),this.convexHullPath=null,this.resetDisplay(),this.states=[],this.step=-1},resetDisplay:function(){for(var t=0;t<this.points.length;t++)this.getPointPath(this.points[t]).fillColor="#000000";this.displayPath&&this.displayPath.removeSegments(),this.displayPath=new u.a.Path({strokeColor:"#000000"}),this.displayPointList=[],null!=this.leftPath&&(this.leftPath.removeSegments(),this.leftPath=null),null!=this.rightPath&&(this.rightPath.removeSegments(),this.rightPath=null),null!=this.searchAreaPath&&(this.searchAreaPath.removeSegments(),this.searchAreaPath=null)},p2c:function(t){return new u.a.Point(t.x,Math.floor(this.GLOBAL_CANVAS_HEIGHT-t.y))},displaySearchArea:function(t,e){this.searchAreaPath=new u.a.Path({strokeColor:x,strokeWidth:3}),this.searchAreaPath.add({x:t,y:0}),this.searchAreaPath.add({x:t,y:this.GLOBAL_CANVAS_HEIGHT}),this.searchAreaPath.add({x:e,y:this.GLOBAL_CANVAS_HEIGHT}),this.searchAreaPath.add({x:e,y:0}),this.searchAreaPath.add({x:t,y:0})},sendMessage:function(t){this.$emit("message",t)},randomGeneratePoints:function(t,e,n,i,a){if(this.addPoints){var r=[],s=[];n>this.GLOBAL_CANVAS_WIDTH&&(n=this.GLOBAL_CANVAS_WIDTH),a>this.GLOBAL_CANVAS_HEIGHT&&(a=this.GLOBAL_CANVAS_HEIGHT);for(var o=e;o<n;o++)r.push(o);for(var l=i;l<a;l++)s.push(l);for(var h=0;h<this.points.length;h++){var c=r.indexOf(this.points[h].x),u=s.indexOf(this.points[h].y);-1!==c&&r.splice(c,1),-1!==u&&s.splice(u,1)}for(var p=0;p<t;p++){var d=f["a"].getRandomArbitrary(0,r.length-1),g=f["a"].getRandomArbitrary(0,s.length-1),v=r[d],x=s[g];r.splice(d,1),s.splice(g,1);var y=v+","+x;this.points.push({x:v,y:x}),this.pointPathMap[y]=this.drawPoint(this.scope,this.p2c({x:v,y:x}),10)}return!0}return!1},pointNum:function(){return this.points.length},getPointPath:function(t){return this.pointPathMap[t.x+","+t.y]},readState:function(){this.resetDisplay();var t=this.states[this.step];if(1===t.type){for(var e=t.left,n=t.right,i=d,a=g,r=0;r<e.length;r++)this.getPointPath(e[r]).fillColor=i;for(var s=0;s<n.length;s++)this.getPointPath(n[s]).fillColor=a;this.displaySearchArea(t.xMin,t.xMax)}else if(2===t.type){var o=d;1===t.part&&(o=g);for(var l=0;l<t.points.length;l++)this.displayPath.add(this.p2c(t.points[l])),this.getPointPath(t.points[l]).fillColor=o;this.displayPath.add(this.p2c(t.points[0])),this.displaySearchArea(t.xMin,t.xMax)}else if(3===t.type){var h=t.left,c=t.right,p=d,f=g;this.leftPath=new u.a.Path({strokeColor:"#000000"}),this.rightPath=new u.a.Path({strokeColor:"#000000"});for(var x=0;x<h.length;x++)this.getPointPath(h[x]).fillColor=p,this.leftPath.add(this.p2c(h[x]));this.leftPath.add(this.p2c(h[0]));for(var y=0;y<c.length;y++)this.getPointPath(c[y]).fillColor=f,this.rightPath.add(this.p2c(c[y]));this.rightPath.add(this.p2c(c[0])),this.displaySearchArea(t.xMin,t.xMax)}else if(4===t.type){for(var m=0;m<t.points.length;m++)this.displayPath.add(this.p2c(t.points[m])),this.getPointPath(t.points[m]).fillColor=v;this.displayPath.add(this.p2c(t.points[0])),this.displaySearchArea(t.xMin,t.xMax)}return this.sendMessage(t.message),t.type},nextState:function(){return this.step+1<this.states.length?(this.step++,this.readState()):null},lastState:function(){return this.step-1>=0?(this.step--,this.readState()):null},prepare:function(){if(this.addPoints=!1,this.convexHullList.length<3){var t=p["a"].exec(this.points);this.states=t.process,this.convexHullList=t.result}this.resetDisplay();var e=this.points.slice();e.sort((function(t,e){var n=t.x,i=e.x;return n===i&&(e.x+=1e-5),n<i?-1:n>i?1:void 0})),this.sortedPoints=e.slice();for(var n=0;n<e.length;n++){var i=this.pointPathMap[e[n].x+","+e[n].y];i.opacity=(1-(e.length-n)/e.length)/2+.3}this.sendMessage("Point color becomes darker as its x coordinate increasing.")}}},m=y,b=(n("ddc9"),n("2877")),k=Object(b["a"])(m,o,l,!1,null,"ec1bec72",null),P=k.exports,w={name:"MergeHull",components:{Nav:s["a"],MergeHullCanvas:P},data:function(){return{msg:"Please add more than three points on our canvas first.",preface:!0,lock:!1,currentIndex:-1,clickAuto:!1,autoing:!1,text:[{msg:"Sorting points by their X coordinate ascending",highLight:!1},{msg:"Divide",highLight:!1},{msg:"Brutal force compute convex hull"},{msg:"Merge",highLight:!1},{msg:"Find and connect upper and lower tangent lines",highLight:!1}]}},mounted:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{last:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.$refs.c.lastState(),null===n){e.next=5;break}t.currentIndex=n,e.next=8;break;case 5:return t.currentIndex=0,e.next=8,t.$refs.c.prepare();case 8:for(i=0;i<t.text.length;i++)t.text[i].highLight=i===t.currentIndex;case 9:case"end":return e.stop()}}),e)})))()},next:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.$refs.c.pointNum()<=3)){e.next=2;break}return e.abrupt("return",!1);case 2:if(-1!==t.currentIndex){e.next=9;break}for(t.currentIndex++,n=0;n<t.text.length;n++)t.text[n].highLight=n===t.currentIndex;return e.next=7,t.$refs.c.prepare();case 7:e.next=16;break;case 9:if(i=t.$refs.c.nextState(),null===i){e.next=15;break}for(t.currentIndex=i,a=0;a<t.text.length;a++)t.text[a].highLight=a===t.currentIndex;e.next=16;break;case 15:return e.abrupt("return",!1);case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})))()},reset:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.currentIndex=-1,n=0;n<t.text.length;n++)t.text[n].highLight=!1;return t.msg="Please add more than three points on our canvas first.",e.next=5,t.$refs.c.reset();case 5:t.lock=!1,t.clickAuto=!1;case 7:case"end":return e.stop()}}),e)})))()},addPoints:function(){this.autoing=!1,this.$refs.c.pointNum()>200?this.msg="Max point number has been set to 200.":this.$refs.c.randomGeneratePoints(10,0,800,0,600)&&(this.msg="Randomly add 10 points on canvas and all points have different x and y coordinates.")},auto:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.$refs.c.pointNum(),i=100,n>50?i=50:n>100&&(i=5),t.autoing=!t.autoing,!t.autoing){e.next=23;break}t.clickAuto=!0;case 6:if(!t.autoing){e.next=21;break}return e.prev=7,e.next=10,t.next();case 10:if(e.sent){e.next=12;break}return e.abrupt("break",21);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e["catch"](7),e.abrupt("break",21);case 17:return e.next=19,new Promise((function(t){return setTimeout(t,i)}));case 19:e.next=6;break;case 21:t.clickAuto=!1,t.autoing=!1;case 23:case"end":return e.stop()}}),e,null,[[7,14]])})))()},getMessage:function(t){this.msg=t},closePreface:function(){this.preface=!1}}},A=w,C=Object(b["a"])(A,i,a,!1,null,"625695c8",null);e["default"]=C.exports},a9e3:function(t,e,n){"use strict";var i=n("83ab"),a=n("da84"),r=n("e330"),s=n("94ca"),o=n("6eeb"),l=n("1a2d"),h=n("7156"),c=n("3a9b"),u=n("d9b5"),p=n("c04e"),f=n("d039"),d=n("241c").f,g=n("06cf").f,v=n("9bf2").f,x=n("408a"),y=n("58a8").trim,m="Number",b=a[m],k=b.prototype,P=a.TypeError,w=r("".slice),A=r("".charCodeAt),C=function(t){var e=p(t,"number");return"bigint"==typeof e?e:_(e)},_=function(t){var e,n,i,a,r,s,o,l,h=p(t,"number");if(u(h))throw P("Cannot convert a Symbol value to a number");if("string"==typeof h&&h.length>2)if(h=y(h),e=A(h,0),43===e||45===e){if(n=A(h,2),88===n||120===n)return NaN}else if(48===e){switch(A(h,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+h}for(r=w(h,2),s=r.length,o=0;o<s;o++)if(l=A(r,o),l<48||l>a)return NaN;return parseInt(r,i)}return+h};if(s(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var M,L=function(t){var e=arguments.length<1?0:b(C(t)),n=this;return c(k,n)&&f((function(){x(n)}))?h(Object(e),n,L):e},I=i?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),S=0;I.length>S;S++)l(b,M=I[S])&&!l(L,M)&&v(L,M,g(b,M));L.prototype=k,k.constructor=L,o(a,m,L)}},ddc9:function(t,e,n){"use strict";n("517b")}}]);
//# sourceMappingURL=chunk-a96e8e5a.cfef5a1a.js.map